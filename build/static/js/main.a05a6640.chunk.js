(this["webpackJsonpquizer-type"]=this["webpackJsonpquizer-type"]||[]).push([[0],{40:function(e,t){},41:function(e,t,n){"use strict";var a,r,i,s;n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),function(e){e[e.one=0]="one",e[e.two=1]="two",e[e.three=2]="three",e[e.four=3]="four"}(a||(a={})),function(e){e.easy="easy",e.medium="medium",e.hard="hard"}(r||(r={})),function(e){e.dataCreated="Data created",e.questions="Questions",e.complexity="Complexity"}(i||(i={})),function(e){e[e.asc=0]="asc",e[e.desc=1]="desc"}(s||(s={}))},45:function(e,t,n){e.exports=n(68)},5:function(e,t,n){"use strict";var a=n(40);n.o(a,"Complexity")&&n.d(t,"Complexity",(function(){return a.Complexity})),n.o(a,"OrderDirection")&&n.d(t,"OrderDirection",(function(){return a.OrderDirection})),n.o(a,"OrderType")&&n.d(t,"OrderType",(function(){return a.OrderType})),n.o(a,"RightAnswer")&&n.d(t,"RightAnswer",(function(){return a.RightAnswer}));var r=n(41);n.d(t,"Complexity",(function(){return r.a})),n.d(t,"OrderDirection",(function(){return r.b})),n.d(t,"OrderType",(function(){return r.c})),n.d(t,"RightAnswer",(function(){return r.d}))},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),s=n(31),o=n.n(s),c=n(9),l=n(10),u=n(6),m=function(e){var t=e.show,n=e.setVisible,a=Object(u.d)({transform:t?"rotate(0)":"rotate(360deg)",color:"#FF00DE"},u.b.stiff),r=Object(u.d)({to:t?{top:"translate(5, 32) rotate(-45)",center:"translate(10, 4) rotate(45)",bottom:"translate(5, 32) rotate(-45)"}:{top:"translate(2, 7) rotate(0)",center:"translate(2, 19) rotate(0)",bottom:"translate(2, 31) rotate(0)"},config:u.b.stiff}),s=r.top,o=r.center,c=r.bottom;return i.a.createElement(u.a.div,{style:a,className:"hamburger",onClick:function(){return n(!t)}},i.a.createElement(u.a.svg,{width:"44",height:"44",fill:a.color,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement(u.a.rect,{width:"40",height:"6",rx:"3",transform:s}),i.a.createElement(u.a.rect,{width:"40",height:"6",rx:"3",transform:o}),i.a.createElement(u.a.rect,{width:"40",height:"6",rx:"3",transform:c})))},d=n(8),p=function(e){var t=e.show,n=e.setVisible,a=Object(d.c)((function(e){return e.users})),s=Object(r.useRef)(null),o=Object(u.e)(t,null,{from:{transform:"translateX(-100%)"},enter:{transform:"translateX(0)"},leave:{transform:"translateY(-100%)"},unique:!0,config:u.b.stiff,ref:s}),c=[{link:"/",title:"Home"},{link:"/login",title:"Login"}];a.logged&&(c=[{link:"/",title:"Home"},{link:"/profile",title:"Profile"},{link:"/logout",title:"Logout"}]);var m=Object(r.useRef)(null),p=Object(u.e)(t?c:[],(function(e){return e.link}),{from:{opacity:0,transform:"translateX(-50px)"},enter:{opacity:1,transform:"translateX(0)"},leave:{opacity:0,transform:"translateX(-25px)"},ref:m,config:u.b.stiff,trail:100,unique:!0});return Object(u.c)(t?[s,m]:[m,s],t?[0,.25]:[0,.6]),i.a.createElement(i.a.Fragment,null,o.map((function(e){var t=e.item,a=e.key,r=e.props;return t?i.a.createElement(u.a.div,{key:a,style:r,className:"sidebar"},p.map((function(e){var t=e.item,a=e.key,r=e.props;return i.a.createElement(u.a.div,{key:a,style:r},i.a.createElement(l.c,{exact:!0,to:t.link,className:"nav-link-button neon-hover",onClick:function(){return n(!1)}},t.title))}))):null})))},b=function(e){var t=e.show,n=e.setVisible,a=Object(u.d)({to:t?{opacity:1,display:"block"}:{opacity:0,display:"none"},config:u.b.stiff});return i.a.createElement(u.a.div,{style:a,className:"backdrop-container",onClick:function(){return n(!1)}})},f=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return document.body.style.overflowY=n?"hidden":"scroll",i.a.createElement(i.a.Fragment,null,i.a.createElement("header",null,i.a.createElement("div",{className:"navbar navbar-expand-lg navbar-light"},i.a.createElement("div",{className:"navbar-brand"},i.a.createElement(l.b,{to:"/"},"Quizer")),i.a.createElement(m,{show:n,setVisible:a}))),i.a.createElement(p,{show:n,setVisible:a}),i.a.createElement(b,{show:n,setVisible:a}))},g=n(12),v=n.n(g),h=n(20);!function(e){e.showLoader="SHOW_LOADER",e.hideLoader="HIDE_LOADER",e.hideModal="HIDE_MODAL",e.showModal="SHOW_MODAL",e.fetchQuizes="FETCH_ALL_QUIZES",e.getActiveQuiz="GET_ACTION_QUIZ",e.showLoaderUser="SHOW_LOADER_USER",e.hideLoaderUser="HIDE_LOADER_USER",e.loginSuccess="LOGIN_SUCCESS",e.loginError="LOGIN_ERROR",e.logout="LOGOUT"}(a||(a={}));var E=n(29),y=n.n(E);n(65),n(66);E.initializeApp({apiKey:"AIzaSyDffYxl01lLTR4OAHOoiEXYP0mX0lMwJNE",authDomain:"quizer-5bb95.firebaseapp.com",databaseURL:"https://quizer-5bb95.firebaseio.com",projectId:"quizer-5bb95",storageBucket:"quizer-5bb95.appspot.com",messagingSenderId:"154892451896",appId:"1:154892451896:web:11117ba893f8a89f03a6cd"});var w=E;function O(e,t){return t.filter((function(t){return e.substring(0,e.length).toLowerCase()===t.title.substring(0,e.length).toLowerCase()?t:null}))}var N=n(5);function q(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function j(e){var t=new Date(e).getMinutes(),n=new Date(e).getSeconds();return"".concat(t<10?"0"+t:t,":").concat(n<10?"0"+n:n)}var x=function(e){var t=e.messages,n=Object(d.b)(),r="",s="",o="";for(var c in t)if(!q(t[c])){r=c,t[c].message&&(s=t[c].message),t[c].error&&(o=t[c].error);break}var l=Object(u.d)({to:q(t[r])?{opacity:0,display:"none"}:{opacity:1,display:"flex"},config:u.b.stiff});return i.a.createElement(u.a.div,{style:l,className:"modal-container",onClick:function(){return n((function(e){e({type:a.hideModal})}))}},i.a.createElement("div",{className:"modal-window"},o?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"modal-title neon-text-big"},"Error!"),i.a.createElement("span",{className:"modal-title neon-text-big"},o),i.a.createElement("button",{className:"btn btn-outline-danger btn-very-big neon-hover-red"},"Got it")):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"modal-title neon-text-big"},s),i.a.createElement("button",{className:"btn btn-outline-secondary btn-very-big neon-hover"},"Got it"))))},C=n(16),k=function(){return i.a.createElement("div",{className:"loader-container"},i.a.createElement("div",{className:"loader"},i.a.createElement("svg",{viewBox:"0 0 80 80"},i.a.createElement("circle",{id:"test",cx:"40",cy:"40",r:"32"}))),i.a.createElement("div",{className:"loader triangle"},i.a.createElement("svg",{viewBox:"0 0 86 80"},i.a.createElement("polygon",{points:"43 8 79 72 7 72"}))),i.a.createElement("div",{className:"loader"},i.a.createElement("svg",{viewBox:"0 0 80 80"},i.a.createElement("rect",{x:"8",y:"8",width:"64",height:"64"}))))},z=function(e){var t=e.id,n=e.title,r=e.description,s=e.complexity,o=e.author,c=e.timeCreated,l=e.bestResult,u=e.questionCount,m=e.editable,p=Object(d.b)(),b=Object(C.g)();return i.a.createElement("div",{className:"card col-lg-6"},i.a.createElement("div",{className:"card-body border-neon-primary"},i.a.createElement("div",{className:"card-title"},i.a.createElement("h3",null,n),i.a.createElement("span",{className:"badge badge-".concat(function(){switch(s){case N.Complexity.easy:return"success";case N.Complexity.medium:return"warning";case N.Complexity.hard:return"danger";default:return"primary"}}())},s)),i.a.createElement("div",{className:"card-subtitle mb-2"},i.a.createElement("span",null,"Author:",i.a.createElement("br",null),o),i.a.createElement("span",null,function(e){var t,n=e.getHours()<10?"0"+e.getHours():e.getHours(),a=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),i=e.getDate()<10?"0"+e.getDate():e.getDate();return"".concat(n,":").concat(a,":").concat(r," | ").concat(i," ").concat((t=e,["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][t.getMonth()])," ").concat(e.getFullYear())}(c)),i.a.createElement("span",null,"Best pass result: ",i.a.createElement("br",null),"00:00"===j(l)?"No results":j(l))),i.a.createElement("p",{className:"card-text"},r),i.a.createElement("div",{className:"card-footer"},m?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"buttons-container"},i.a.createElement("button",{className:"btn btn-danger",onClick:function(){return p((e=t,function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.database().ref("/quizes/".concat(e)).set(null).then((function(){n({type:a.showModal,payload:{message:"Quiz was deleted"}})})).catch((function(e){n({type:a.showModal,payload:{error:e.message}})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e}},"Delete")),i.a.createElement("span",{className:"questions-xs-hide"},u," questions")):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return b.push("/quiz/".concat(t))}},"Start"),i.a.createElement("span",{className:"questions"},u," questions")))))},Q=function(e){var t=e.title,n=e.finder,a=e.setFinder;return i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text bg-primary text-white",id:"finder"},t)),i.a.createElement("input",{type:"text",className:"form-control","aria-label":"Default","aria-describedby":"finder",value:n,onChange:function(e){return t=e.target.value,void a(t);var t}}))},A=function(e){var t=e.quizesListing,n=e.loading,a=e.logged,s=Object(C.g)();Object(r.useEffect)((function(){a||s.push("/login")}),[]);var o=Object(r.useState)(""),u=Object(c.a)(o,2),m=u[0],d=u[1];return i.a.createElement("section",{className:"profile"},i.a.createElement("div",{className:"jumbotron jumbotron-fluid wrapper-bg border-neon-primary"},i.a.createElement("div",{className:"jumbotron-title mb-3"},i.a.createElement("h1",{className:"display-4"},"Welcome"),i.a.createElement(l.b,{to:"/quiz-creator",className:"btn btn-outline-secondary neon-hover btn-big"},"Create quiz")),i.a.createElement(Q,{title:"Find quiz",finder:m,setFinder:d})),n?i.a.createElement(k,null):i.a.createElement("div",{className:"quizes-container row"},O(m,t).map((function(e){return i.a.createElement(z,{key:e.id,id:e.id,title:e.title,description:e.description,complexity:e.complexity,author:e.author,timeCreated:e.timeCreated,bestResult:e.bestResult,questionCount:e.questionCount,editable:!0})}))))},S=n(4),L=function(e){var t,n,a,r,s=e.newQuiz,o=e.setNewQuizState,c=function(){return s.complexity===N.Complexity.easy?{width:10,color:"success"}:s.complexity===N.Complexity.medium?{width:50,color:"warning"}:{width:90,color:"danger"}};return i.a.createElement("div",{className:"main-info-container wrapper-bg border-neon-primary"},i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-lg-6 col-12"},i.a.createElement("h2",{className:"neon-text-small"},"Title"),i.a.createElement("input",{type:"text",className:"form-control form-control-lg",value:s.title,onChange:function(e){return o(Object(S.a)({},s,{title:e.target.value}))}}),(null===(t=s.errors)||void 0===t?void 0:t.title)?i.a.createElement("small",{className:"form-text"},null===(n=s.errors)||void 0===n?void 0:n.title):null),i.a.createElement("div",{className:"col-lg-6 col-12"},i.a.createElement("h2",{className:"neon-text-small"},"Complexity"),i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"progress-bar progress-bar-striped bg-".concat(c().color),role:"progressbar",style:{width:"".concat(c().width,"%")}})),i.a.createElement("div",{className:"complexity-buttons-container"},i.a.createElement("button",{className:"btn btn-success",onClick:function(){return o(Object(S.a)({},s,{complexity:N.Complexity.easy}))}},"Easy"),i.a.createElement("button",{className:"btn btn-warning",onClick:function(){return o(Object(S.a)({},s,{complexity:N.Complexity.medium}))}},"Medium"),i.a.createElement("button",{className:"btn btn-danger",onClick:function(){return o(Object(S.a)({},s,{complexity:N.Complexity.hard}))}},"Hard"))),i.a.createElement("div",{className:"col-12"},i.a.createElement("h2",{className:"neon-text-small"},"Description"),i.a.createElement("textarea",{className:"form-control",rows:3,value:s.description,onChange:function(e){return o(Object(S.a)({},s,{description:e.target.value}))}}),(null===(a=s.errors)||void 0===a?void 0:a.description)?i.a.createElement("small",{className:"form-text"},null===(r=s.errors)||void 0===r?void 0:r.description):null)))},R=n(18),D=function(e){var t=e.index,n=e.value,a=e.activeIndex,r=e.onChangeInput,s=e.onChangeRightAnswer;return i.a.createElement("div",{className:"input-group col-12 col-md-6 mt-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("button",{className:a===t?"btn btn-primary active":"btn btn-primary",onClick:function(){return s(t)}},t+1)),i.a.createElement("input",{name:"answer",type:"text",className:"form-control",value:n,onChange:function(e){return r(e.target.name,e.target.value,t)}}))};function T(e,t,n){var a={};return t&&n&&t>n?{limitReached:"Limit was reached! Max is ".concat(n)}:(e.question?e.answers.every((function(e){return""!==e}))||(a.textInputs="Fill all fields!"):(e.answers.every((function(e){return""!==e}))||(a.textInputs="Fill all fields!"),a.textInputs="Fill all fields!"),e.rightAnswer||e.rightAnswer===N.RightAnswer.one||(a.rightAnswer="Choose right answer!"),a)}var F=function(e){var t,n,a=e.newQuiz,s=e.setNewQuizState,o=Object(r.useState)({listing:[{question:"1",answers:["1","1","1","1"],rightAnswer:N.RightAnswer.two,wasAdded:!1}],activeQuestion:0,limit:30}),l=Object(c.a)(o,2),u=l[0],m=l[1];Object(r.useEffect)((function(){!function(){if(u.listing.length>1&&q(u.errors)){var e=u.listing.map((function(e){return{question:e.question,answers:e.answers,rightAnswer:e.rightAnswer}}));e.pop(),s(Object(S.a)({},a,{questions:e,questionCount:e.length}))}else s(Object(S.a)({},a,{questions:[],questionCount:0}))}()}),[u.listing[u.activeQuestion],u.listing]);var d=function(e,t,n){var a=u.listing;"question"===e&&(a[u.activeQuestion].question=t),"answer"!==e||!n&&0!==n||(a[u.activeQuestion].answers[n]=t),m(Object(S.a)({},u,{listing:a}))},p=function(e){var t=u.listing;t[u.activeQuestion].rightAnswer=e,m(Object(S.a)({},u,{listing:Object(R.a)(t)}))},b=function(){m(Object(S.a)({},u,{errors:{}}));var e=T(u.listing[u.activeQuestion],u.listing.length,u.limit);if(q(e))if(u.listing[u.activeQuestion].wasAdded)m(Object(S.a)({},u,{activeQuestion:u.activeQuestion+1,errors:{}}));else{var t={question:"",answers:["","","",""],rightAnswer:void 0,wasAdded:!1},n=u.listing;n[u.activeQuestion].wasAdded=!0,n.push(t),m(Object(S.a)({},u,{listing:n,activeQuestion:u.activeQuestion+1,errors:{}}))}else m(Object(S.a)({},u,{errors:e}))};return i.a.createElement("div",{className:"create-questions-container wrapper-bg border-neon-primary"},i.a.createElement("h2",{className:"neon-text-small"},"Questions"),(null===(t=a.errors)||void 0===t?void 0:t.questions)?i.a.createElement("small",{className:"form-text"},null===(n=a.errors)||void 0===n?void 0:n.questions.message):null,i.a.createElement("div",{className:"p-3"},i.a.createElement("div",{className:"questions-indexes-container"},u.listing.map((function(e,t){var n;return i.a.createElement("button",{key:t,className:t===(null===(n=a.errors)||void 0===n?void 0:n.questions.errorIndex)?"badge badge-danger":t===u.activeQuestion?"badge badge-secondary":"badge badge-primary",onClick:function(){return function(e){if(!u.listing[e].wasAdded&&u.listing.length>1){m(Object(S.a)({},u,{errors:{}}));var t=T(u.listing[u.activeQuestion]);q(t)?m(Object(S.a)({},u,{activeQuestion:e,errors:{}})):m(Object(S.a)({},u,{errors:t}))}else if(u.listing[u.activeQuestion].wasAdded){var n=T(u.listing[u.activeQuestion]);q(n)?m(Object(S.a)({},u,{activeQuestion:e,errors:{}})):m(Object(S.a)({},u,{errors:n}))}else m(Object(S.a)({},u,{activeQuestion:e,errors:{}}))}(t)}},t+1)}))),i.a.createElement("div",{className:"input-group mt-2"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("div",{className:"input-group-text bg-primary text-white"},"Question")),i.a.createElement("input",{type:"text",className:"form-control",name:"question",value:u.listing[u.activeQuestion].question,onChange:function(e){return d(e.target.name,e.target.value)}})),i.a.createElement("div",{className:"row"},u.listing[u.activeQuestion].answers.map((function(e,t){return i.a.createElement(D,{key:t.toString(),index:t,value:u.listing[u.activeQuestion].answers[t],activeIndex:u.listing[u.activeQuestion].rightAnswer,onChangeInput:d,onChangeRightAnswer:p})}))),i.a.createElement("div",{className:"mt-3"},u.listing[u.activeQuestion].wasAdded?i.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){return b()}},"Update question"):i.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){return b()}},"Add question"),i.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return function(){if(u.listing[u.activeQuestion].wasAdded){var e=u.listing;e.splice(u.activeQuestion,1),m(Object(S.a)({},u,{listing:e,errors:{}}))}else m(Object(S.a)({},u,{errors:{deleteEmpty:"You can't delete non-added question!"}}))}()}},"Delete"),i.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return function(){if(1!==u.listing.length){var e={question:"",answers:["","","",""],rightAnswer:void 0,wasAdded:!1};m(Object(S.a)({},u,{listing:[e],activeQuestion:0}))}}()}},"Delete all"),function(){if(!q(u.errors))return Object.values(u.errors).map((function(e,t){return i.a.createElement("span",{className:"mr-2 neon-text-very-small",key:t},e)}))}())))},M=function(e){var t=e.logged,n=Object(d.b)(),s=Object(C.g)();Object(r.useEffect)((function(){t||s.push("/login")}),[]);var o=Object(r.useState)({title:"",description:"",complexity:N.Complexity.medium,questions:[],questionCount:0}),l=Object(c.a)(o,2),u=l[0],m=l[1],p=function(){var e,t=function(e){var t={questions:{}};return e.title||(t.title="This field is required!"),e.title&&(e.title.length<3||e.title.length>20)&&(t.title="Title length must be in range from 3 to 20 characters!"),e.description||(t.description="This field is required!"),e.description&&(e.description.length<3||e.description.length>20)&&(t.description="Description length must be in range from 3 to 150 characters!"),e.questions.length<5||e.questionCount<5?t.questions.message="Quiz must contain at least ".concat(5," question!"):e.questions.forEach((function(e,n){if(!e.answers.every((function(e){return e}))&&0!==e.question.length&&void 0!==e.rightAnswer)return t.questions.message='Check "'.concat(n+1,'" question to finish creation quiz!'),void(t.questions.errorIndex=n)})),t}(u);if(q(t)||q(t.questions)){m(Object(S.a)({},u,{errors:{questions:{}}}));var r={id:Math.random().toString(36).substring(7),title:u.title,description:u.description,complexity:u.complexity,questions:u.questions,questionCount:u.questionCount,author:"Admin",bestResult:0,timeCreated:new Date};n((e=r,function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.database().ref("/quizes/".concat(e.id)).set({title:e.title,description:e.description,author:e.author,complexity:e.complexity,questionCount:e.questionCount,questions:e.questions,timeCreated:e.timeCreated.getTime(),bestResult:e.bestResult}).then((function(){n({type:a.showModal,payload:{message:"New quiz was successfully added"}})})).catch((function(e){n({type:a.showModal,payload:{error:e.message}})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),s.push("/profile")}else m(Object(S.a)({},u,{errors:t}))};return i.a.createElement("section",{className:"quiz-creator-container"},i.a.createElement("div",{className:"jumbotron jumbotron-fluid wrapper-bg border-neon-primary"},i.a.createElement("div",{className:"jumbotron-title"},i.a.createElement("h1",{className:"display-4"},"Quiz creator"),i.a.createElement("div",{className:"buttons-jumbo-container"},i.a.createElement("button",{onClick:function(){return s.goBack()},className:"btn btn-outline-danger neon-hover-red btn-big"},"Cancel"),i.a.createElement("button",{className:"btn btn-outline-secondary neon-hover btn-big",onClick:function(){return p()}},"Create")))),i.a.createElement(L,{newQuiz:u,setNewQuizState:m}),i.a.createElement(F,{newQuiz:u,setNewQuizState:m}))},I=function(e){var t=e.valueToShow,n=e.value,a=e.orderType,r=e.onChangeHandler;return i.a.createElement("label",{className:a===t?"btn btn-secondary active":"btn btn-primary"},i.a.createElement("input",{type:"radio",value:n,checked:!1,onChange:function(e){return r(e)}})," ",t)},_=function(e){var t=e.optionsLabel,n=e.onSwitchHandler;return i.a.createElement("div",{className:"switcher-container"},t?i.a.createElement("span",{className:"text-white"},"ASC"):i.a.createElement("span",{className:"text-secondary"},"DESC"),i.a.createElement("label",{className:"switcher"},i.a.createElement("input",{type:"checkbox",onClick:function(){return n()}}),i.a.createElement("span",{className:"slider"})))},U=function(e){var t=e.order,n=e.setOrder,a=function(e){switch(e.target.value){case"dataCreated":n(Object(S.a)({},t,{type:N.OrderType.dataCreated}));break;case"questions":n(Object(S.a)({},t,{type:N.OrderType.questions}));break;case"complexity":n(Object(S.a)({},t,{type:N.OrderType.complexity}))}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"order-options-header"},i.a.createElement("h3",{className:"neon-text-small"},"Order by: "),i.a.createElement(_,{optionsLabel:t.direction,onSwitchHandler:function(){return t.direction===N.OrderDirection.asc?void n(Object(S.a)({},t,{direction:N.OrderDirection.desc})):void n(Object(S.a)({},t,{direction:N.OrderDirection.asc}))}})),i.a.createElement("div",{className:"order-options-container btn-group btn-group-toggle"},Object.keys(N.OrderType).map((function(e,n){return i.a.createElement(I,{key:n,valueToShow:N.OrderType[e],value:e,orderType:t.type,onChangeHandler:a})}))))},H=function(e){var t=e.quizesListing,n=e.loading,a=Object(r.useState)(""),s=Object(c.a)(a,2),o=s[0],l=s[1],u=Object(r.useState)({type:N.OrderType.dataCreated,direction:N.OrderDirection.asc}),m=Object(c.a)(u,2),d=m[0],p=m[1];return i.a.createElement("section",{className:"quiz-listing"},i.a.createElement("div",{className:"jumbotron jumbotron-fluid wrapper-bg border-neon-primary"},i.a.createElement("div",{className:"jumbotron-title mb-3"},i.a.createElement("h1",{className:"display-4"},"Quiz listing")),i.a.createElement(U,{order:d,setOrder:p}),i.a.createElement(Q,{title:"Find quiz",finder:o,setFinder:l})),n?i.a.createElement(k,null):i.a.createElement("div",{className:"quizes-container row"},function(){var e=Object(R.a)(t),n=function(e,t){switch(e.type){case N.OrderType.dataCreated:return t.sort((function(e,t){return e.timeCreated>t.timeCreated?-1:1})),e.direction?t.reverse():t;case N.OrderType.questions:return t.sort((function(e,t){return e.questionCount>t.questionCount?-1:1})),e.direction?t.reverse():t;case N.OrderType.complexity:var n=t.map((function(e){return e.complexity===N.Complexity.easy?{quiz:e,value:0}:e.complexity===N.Complexity.medium?{quiz:e,value:1}:{quiz:e,value:2}}));n.sort((function(e,t){return e.value>t.value?1:-1}));var a=n.map((function(e){return e.quiz}));return e.direction?a.reverse():a}}(d,e);return O(o,n).map((function(e){return i.a.createElement(z,{key:e.id,id:e.id,title:e.title,description:e.description,complexity:e.complexity,author:e.author,timeCreated:e.timeCreated,bestResult:e.bestResult,questionCount:e.questionCount})}))}()))},B=function(e){var t=e.activeQuestion,n=e.userAnswersState,a=e.setActiveQuestion,r=e.setUserAnswerState,s=e.style,o=e.questionBlock,c=e.lastQuestion;return i.a.createElement(u.a.div,{style:s,className:"question wrapper-bg border-neon-primary"},i.a.createElement("h2",{className:"neon-text-small"},o.question),i.a.createElement("div",{className:"answers row order-options-container btn-group btn-group-toggle"},o.answers.map((function(e,s){return i.a.createElement("div",{className:"answer-hld col-12 col-lg-6 mt-3 p-0",key:s,onClick:function(){return function(e){var i=n.answersListing;i[t]=e,r(Object(S.a)({},n,{answersListing:i,errors:[]})),t!==c&&a(t+1)}(s)}},i.a.createElement("span",{className:"neon-text-very-small"},s+1,"."),i.a.createElement("div",{className:n.answersListing[t]===s?"answer btn btn-primary neon-text-very-small neon-hover neon-text-very-small":"answer btn btn-primary neon-text-very-small"},e))}))),n.errors.length>0?i.a.createElement("small",{className:"form-text mt-2"},function(){for(var e=" ",t=0;t<n.errors.length;t++){if(t===n.errors.length-1){e+="".concat(n.errors[t]+1," ");break}e+="".concat(n.errors[t]+1,", ")}return 3===e.length?"Fill answers in".concat(e," question to finish quiz!"):"Fill answers in".concat(e," questions to finish quiz!")}()):null)},Y=function(e){var t=e.timer,n=e.setTimer;return Object(r.useEffect)((function(){var e=setTimeout((function(){return n(t+1e3)}),1e3);return function(){clearTimeout(e)}}),[t]),i.a.createElement("div",{className:"quiz-timer col-2"},j(t))},X=function(e){var t=e.timer,n=e.setTimer,a=e.activeQuestion,r=e.setActiveQuestion,s=e.userAnswersState,o=e.setUserAnswerState,c=e.questionBlocks,l=Object(u.e)(a,(function(e){return e}),{from:{opacity:0,transform:"translateY(100%)"},enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(50%)"}});function m(e){return!!s.errors.find((function(t){return t===e}))}return i.a.createElement(i.a.Fragment,null,c?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"question-indexes wrapper row"},i.a.createElement("div",{className:"col-10"},function(){if(c)return c.map((function(e,t){return i.a.createElement("button",{onClick:function(){return r(t)},key:t,className:t===a?"btn btn-outline-primary neon-hover neon-text-very-small":"undefined"!==typeof s.answersListing[t]?"btn btn-secondary":m(t)?"btn btn-danger":"btn btn-outline-primary"},t+1)}))}()),i.a.createElement(Y,{timer:t,setTimer:n})),l.map((function(e){var t=e.item,n=e.props,l=e.key;return i.a.createElement(B,{activeQuestion:a,setActiveQuestion:r,userAnswersState:s,setUserAnswerState:o,style:n,questionBlock:c[t],key:l,lastQuestion:c.length-1})}))):null)},P=function(e){var t,n=e.activeQuiz,s=e.timer,o=e.userAnswersState,c=Object(r.useRef)(!0),l=Object(d.b)(),u=Object(C.g)(),m=0,p=[];t=function(){return function(){var e=[];if(n)for(var t=0;t<n.questionCount;t++)n.questions[t].rightAnswer===o.answersListing[t]?e.push({question:n.questions[t].question,answer:n.questions[t].answers[o.answersListing[t]],wasRight:!0}):(m++,e.push({question:n.questions[t].question,answer:n.questions[t].answers[o.answersListing[t]],wasRight:!1}));return e.map((function(e,t){return i.a.createElement("li",{className:"result",key:t},i.a.createElement("div",{className:"result-question"},i.a.createElement("span",{className:"neon-text-very-small"},t+1,". ",e.question)),i.a.createElement("div",{className:"result-answer"},i.a.createElement("span",{className:"neon-text-very-small"},e.answer),e.wasRight?i.a.createElement("button",{className:"btn btn-success"},"Success"):i.a.createElement("button",{className:"btn btn-danger"},"Failure")))}))}()},c.current&&(p=t()),c.current=!1;var b=function(){var e,t;n&&(l((e=n.id,t=s,function(){var n=Object(h.a)(v.a.mark((function n(r){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,w.database().ref("/quizes/".concat(e)).child("bestResult").set(t).then((function(){r({type:a.showModal,payload:{message:"Your time passed was successfully added"}})})).catch((function(e){r({type:a.showModal,payload:{error:e.message}})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),u.push("/"))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"finished-container wrapper-bg border-neon-primary"},i.a.createElement("div",{className:"finished-title"},i.a.createElement("h2",{className:"neon-text-small"},"Results"),i.a.createElement("span",{className:"neon-text-very-small"},"Finished at ",j(s))),i.a.createElement("ul",{className:"results"},p)),i.a.createElement("div",{className:"response-container wrapper-bg border-neon-primary"},m>1?i.a.createElement("div",{className:"failure neon-text-small"},"Failure. Quiz wasn't passed. Max 1 wrong answer allowed."):i.a.createElement("div",{className:"success neon-text-small"},"Congratulations! You're passed this quiz.",i.a.createElement("button",{className:"btn btn-outline-secondary neon-hover",onClick:function(){return b()}},"Record changes"))))},V=function(e){var t=e.activeQuiz,n=e.loading,s=Object(C.h)(),o=Object(C.g)(),l=Object(d.b)(),u=Object(r.useState)(!1),m=Object(c.a)(u,2),p=m[0],b=m[1],f=Object(r.useState)(0),g=Object(c.a)(f,2),E=g[0],y=g[1],O=Object(r.useState)(0),N=Object(c.a)(O,2),q=N[0],j=N[1],x=Object(r.useState)({answersListing:[],errors:[]}),z=Object(c.a)(x,2),Q=z[0],A=z[1];Object(r.useEffect)((function(){var e;s.id&&l((e=s.id,function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:a.showLoader}),t.next=3,w.database().ref("/quizes/".concat(e));case 3:t.sent.once("value",(function(t){var r=t.val();n({type:a.getActiveQuiz,payload:{id:e,title:r.title,author:r.author,description:r.description,complexity:r.complexity,questionCount:parseInt(r.questionCount),questions:r.questions,timeCreated:r.timeCreated,bestResult:r.bestResult}}),n({type:a.hideLoader})}),(function(e){n({type:a.showModal,payload:{error:e.message}}),n({type:a.hideLoader})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]);return i.a.createElement("section",{className:"active-quiz-container"},n?i.a.createElement(k,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"jumbotron jumbotron-fluid wrapper-bg border-neon-primary"},i.a.createElement("div",{className:"jumbotron-title"},i.a.createElement("h1",{className:"display-4"},"Quiz ",null===t||void 0===t?void 0:t.title),i.a.createElement("div",{className:"buttons-jumbo-container"},p?i.a.createElement("button",{onClick:function(){return o.push("/")},className:"btn btn-outline-secondary neon-hover btn-big"},"Back"):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:function(){return o.goBack()},className:"btn btn-outline-danger neon-hover-red btn-big"},"Cancel"),i.a.createElement("button",{onClick:function(){return function(){if(t){var e=[];A(Object(S.a)({},Q,{errors:e}));for(var n=0;n<t.questionCount;n++)"undefined"===typeof Q.answersListing[n]&&(e.push(n),A(Object(S.a)({},Q,{errors:e})));0===e.length&&b(!0)}}()},className:"btn btn-outline-secondary neon-hover btn-big"},"Finish"))))),p?i.a.createElement(P,{activeQuiz:t,timer:E,userAnswersState:Q}):i.a.createElement(X,{timer:E,setTimer:y,activeQuestion:q,setActiveQuestion:j,userAnswersState:Q,setUserAnswerState:A,questionBlocks:null===t||void 0===t?void 0:t.questions})))},W=function(){var e=Object(d.c)((function(e){return e.users})),t=Object(d.b)(),n=Object(r.useState)({email:"",password:""}),s=Object(c.a)(n,2),o=s[0],l=s[1];return e.logged?i.a.createElement(C.a,{to:"/profile"}):i.a.createElement("section",{className:"login-container"},e.loading?i.a.createElement(k,null):i.a.createElement("div",{className:"jumbotron jumbotron-fluid wrapper-bg border-neon-primary"},i.a.createElement("div",{className:"jumbotron-title mb-3"},i.a.createElement("h1",{className:"display-4"},"Login")),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-lg-6 col-12 mb-3"},i.a.createElement("h2",{className:"neon-text-small"},"Email"),i.a.createElement("input",{type:"text",className:"form-control form-control-lg",value:o.email,onChange:function(e){return l(Object(S.a)({},o,{email:e.target.value}))}})),i.a.createElement("div",{className:"col-lg-6 col-12 mb-3"},i.a.createElement("h2",{className:"neon-text-small"},"Password"),i.a.createElement("input",{type:"password",className:"form-control form-control-lg",value:o.password,onChange:function(e){return l(Object(S.a)({},o,{password:e.target.value}))}}))),i.a.createElement("button",{className:"btn btn-outline-secondary neon-hover btn-big mr-3",onClick:function(){return t((e=o.email,n=o.password,function(){var t=Object(h.a)(v.a.mark((function t(r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:a.showLoaderUser}),t.next=3,y.a.auth().signInWithEmailAndPassword(e,n).then((function(){r({type:a.loginSuccess}),r({type:a.hideLoaderUser})})).catch((function(e){r({type:a.loginError,payload:e.message}),r({type:a.hideLoaderUser})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e,n}},"Login"),e.error?i.a.createElement("span",{className:"neon-text-very-small"},e.error):null))},G=function(){var e=Object(d.b)(),t=Object(C.g)();return Object(r.useEffect)((function(){e((function(e){e({type:a.logout})})),t.push("/")}),[]),i.a.createElement(k,null)},J=function(e){var t=e.quizes,n=e.users,a=Object(r.useContext)(C.e).location,s=Object(u.e)(a,(function(e){return e.pathname}),{from:{opacity:0,transform:"translate(100%,0)"},enter:{opacity:1,transform:"translate(0,0)"},leave:{opacity:0,transform:"translate(-50%,0)"}});return i.a.createElement(i.a.Fragment,null,s.map((function(e){var a=e.item,r=e.props,s=e.key;return i.a.createElement(u.a.div,{key:s,style:r},i.a.createElement(C.d,{location:a},i.a.createElement(C.d,null,i.a.createElement(C.b,{path:"/",exact:!0,render:function(){return i.a.createElement(H,{quizesListing:t.quizesList,loading:t.loading})}}),i.a.createElement(C.b,{path:"/profile",render:function(){return i.a.createElement(A,{quizesListing:t.quizesList,loading:t.loading,logged:n.logged})}}),i.a.createElement(C.b,{path:"/quiz/:id",render:function(){return i.a.createElement(V,{activeQuiz:t.activeQuiz,loading:t.loading})}}),i.a.createElement(C.b,{path:"/login",render:function(){return i.a.createElement(W,null)}}),i.a.createElement(C.b,{path:"/quiz-creator",render:function(){return i.a.createElement(M,{logged:n.logged})}}),i.a.createElement(C.b,{path:"/logout",render:function(){return i.a.createElement(G,null)}}),i.a.createElement(C.a,{to:"/"}))))})))},Z=function(){var e=Object(d.c)((function(e){return e.quizes})),t=Object(d.c)((function(e){return e.users})),n=Object(d.b)();return Object(r.useEffect)((function(){n(function(){var e=Object(h.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:a.showLoader}),e.next=3,w.database().ref("/quizes");case 3:e.sent.on("value",(function(e){var n=e.val(),r=[];for(var i in n)n.hasOwnProperty(i)&&r.push({id:i,title:n[i].title,author:n[i].author,description:n[i].description,complexity:n[i].complexity,questionCount:parseInt(n[i].questionCount),timeCreated:new Date(n[i].timeCreated),bestResult:parseInt(n[i].bestResult)});t({type:a.fetchQuizes,payload:r}),t({type:a.hideLoader})}),(function(e){t({type:a.showModal,payload:{error:e.message}}),t({type:a.hideLoader})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(x,{messages:{quiz:e.modal}}),i.a.createElement(f,null),i.a.createElement("main",null,i.a.createElement(J,{quizes:e,users:t})))};n(67),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(19),$=n(44),ee={loading:!1,logged:!1,error:""},te={loading:!1,modal:{},quizesList:[],activeQuiz:null},ne=Object(K.c)({quizes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.showModal:return Object(S.a)({},e,{modal:t.payload});case a.hideModal:return Object(S.a)({},e,{modal:{}});case a.showLoader:return Object(S.a)({},e,{loading:!0});case a.hideLoader:return Object(S.a)({},e,{loading:!1});case a.fetchQuizes:return Object(S.a)({},e,{quizesList:t.payload});case a.getActiveQuiz:return Object(S.a)({},e,{activeQuiz:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.showLoaderUser:return Object(S.a)({},e,{loading:!0});case a.hideLoaderUser:return Object(S.a)({},e,{loading:!1});case a.loginSuccess:return Object(S.a)({},e,{logged:!0});case a.loginError:return Object(S.a)({},e,{error:t.payload});case a.logout:return Object(S.a)({},e,{logged:!1});default:return e}}}),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d,re=Object(K.e)(ne,ae(Object(K.a)($.a))),ie=i.a.createElement(l.a,null,i.a.createElement(d.a,{store:re},i.a.createElement(i.a.StrictMode,null,i.a.createElement(Z,null))));o.a.render(ie,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.a05a6640.chunk.js.map